<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Dexter Flight Controller: bno055.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Dexter Flight Controller
   &#160;<span id="projectnumber">0.9.0</span>
   </div>
   <div id="projectbrief">Flight Controller firmware for the STM32F4-Discovery Board written in C</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d9/d05/bno055_8c.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">bno055.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../d0/d88/bno055_8h_source.html">bno055.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac94fc5e78628ab5037170f7626ded1da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d05/bno055_8c.html#ac94fc5e78628ab5037170f7626ded1da">DMA1_Stream2_IRQHandler</a> (void)</td></tr>
<tr class="memdesc:ac94fc5e78628ab5037170f7626ded1da"><td class="mdescLeft">&#160;</td><td class="mdescRight">The interrupt handler receives the remaining I2C data at the end of the DMA transfer and resets the DMA.  <a href="#ac94fc5e78628ab5037170f7626ded1da">More...</a><br /></td></tr>
<tr class="separator:ac94fc5e78628ab5037170f7626ded1da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4767b45e7310c644186629c50b180e1a"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d05/bno055_8c.html#a4767b45e7310c644186629c50b180e1a">bno055_config</a> ()</td></tr>
<tr class="memdesc:a4767b45e7310c644186629c50b180e1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable clocks, configure GPIO pins B10 &amp; B11 as Alternate Function (I2C2), configure DMA1_Stream2_Channel7, and enable transfer complete interrupt.  <a href="#a4767b45e7310c644186629c50b180e1a">More...</a><br /></td></tr>
<tr class="separator:a4767b45e7310c644186629c50b180e1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af806f0aa9f12441ed6b8acd83017a8d1"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d05/bno055_8c.html#af806f0aa9f12441ed6b8acd83017a8d1">bno055_init</a> (bool skip_phase1)</td></tr>
<tr class="memdesc:af806f0aa9f12441ed6b8acd83017a8d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize variables and prepare to begin normal operation.  <a href="#af806f0aa9f12441ed6b8acd83017a8d1">More...</a><br /></td></tr>
<tr class="separator:af806f0aa9f12441ed6b8acd83017a8d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8c48cf3122ef342fc4244cf47c5eb8c"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d05/bno055_8c.html#ab8c48cf3122ef342fc4244cf47c5eb8c">bno055_update</a> ()</td></tr>
<tr class="memdesc:ab8c48cf3122ef342fc4244cf47c5eb8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update loop to handle state switching, conversion from raw to cooked data, and error detection.  <a href="#ab8c48cf3122ef342fc4244cf47c5eb8c">More...</a><br /></td></tr>
<tr class="separator:ab8c48cf3122ef342fc4244cf47c5eb8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4943d94eb47503fe062d14bde135adba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d05/bno055_8c.html#a4943d94eb47503fe062d14bde135adba">bno055_change_state</a> (uint8_t new_state)</td></tr>
<tr class="memdesc:a4943d94eb47503fe062d14bde135adba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to change settings, enable/disable features, or trigger actions when switching between two different states of operation.  <a href="#a4943d94eb47503fe062d14bde135adba">More...</a><br /></td></tr>
<tr class="separator:a4943d94eb47503fe062d14bde135adba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78ce5382d1466bfbb67ed5fb8f33481e"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d05/bno055_8c.html#a78ce5382d1466bfbb67ed5fb8f33481e">bno055_start_dma</a> ()</td></tr>
<tr class="memdesc:a78ce5382d1466bfbb67ed5fb8f33481e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begin the I2C read sequence and setup DMA to take over the rest.  <a href="#a78ce5382d1466bfbb67ed5fb8f33481e">More...</a><br /></td></tr>
<tr class="separator:a78ce5382d1466bfbb67ed5fb8f33481e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d90fa7310853948bcf5d0e1e51b513b"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d05/bno055_8c.html#a0d90fa7310853948bcf5d0e1e51b513b">bno055_parse_buffer</a> ()</td></tr>
<tr class="memdesc:a0d90fa7310853948bcf5d0e1e51b513b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Split up the raw data read by the peripheral into corresponding raw value variables.  <a href="#a0d90fa7310853948bcf5d0e1e51b513b">More...</a><br /></td></tr>
<tr class="separator:a0d90fa7310853948bcf5d0e1e51b513b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a633e8d33e541faf7f06d848427b66a09"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d05/bno055_8c.html#a633e8d33e541faf7f06d848427b66a09">bno055_cook_values</a> ()</td></tr>
<tr class="memdesc:a633e8d33e541faf7f06d848427b66a09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the final cooked values from the parsed data.  <a href="#a633e8d33e541faf7f06d848427b66a09">More...</a><br /></td></tr>
<tr class="separator:a633e8d33e541faf7f06d848427b66a09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba6bbb1c7975a758fda84e28494955b4"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d05/bno055_8c.html#aba6bbb1c7975a758fda84e28494955b4">bno055_get_calibration_data</a> (uint8_t *calibration_percent)</td></tr>
<tr class="memdesc:aba6bbb1c7975a758fda84e28494955b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads how well calibrated the sensors of the peripheral are (0 to 100%).  <a href="#aba6bbb1c7975a758fda84e28494955b4">More...</a><br /></td></tr>
<tr class="separator:aba6bbb1c7975a758fda84e28494955b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d5cbfe40109146da9dd9cacc336ca37"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d05/bno055_8c.html#a7d5cbfe40109146da9dd9cacc336ca37">bno055_get_status</a> (uint8_t *<a class="el" href="../../db/d3b/state_8h.html#ade818037fd6c985038ff29656089758d">status</a>)</td></tr>
<tr class="memdesc:a7d5cbfe40109146da9dd9cacc336ca37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the system status register.  <a href="#a7d5cbfe40109146da9dd9cacc336ca37">More...</a><br /></td></tr>
<tr class="separator:a7d5cbfe40109146da9dd9cacc336ca37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f9dcd084ba89af0145fb0ebfe88e4a8"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d05/bno055_8c.html#a0f9dcd084ba89af0145fb0ebfe88e4a8">bno055_axis_remap</a> (int8_t remap_x, int8_t remap_y, int8_t remap_z, uint8_t *map, uint8_t *sign)</td></tr>
<tr class="memdesc:a0f9dcd084ba89af0145fb0ebfe88e4a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the orientation of the sensor by swapping the x, y, and z axes if necessary.  <a href="#a0f9dcd084ba89af0145fb0ebfe88e4a8">More...</a><br /></td></tr>
<tr class="separator:a0f9dcd084ba89af0145fb0ebfe88e4a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a394bafbaab8543e54d768917ac020259"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d05/bno055_8c.html#a394bafbaab8543e54d768917ac020259">bno055_error_reset</a> (int16_t error_level)</td></tr>
<tr class="memdesc:a394bafbaab8543e54d768917ac020259"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to recover from a problem with the peripheral by resetting certain things depending on how long the problem persists.  <a href="#a394bafbaab8543e54d768917ac020259">More...</a><br /></td></tr>
<tr class="separator:a394bafbaab8543e54d768917ac020259"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0f9dcd084ba89af0145fb0ebfe88e4a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f9dcd084ba89af0145fb0ebfe88e4a8">&sect;&nbsp;</a></span>bno055_axis_remap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bno055_axis_remap </td>
          <td>(</td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>remap_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>remap_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>remap_z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>sign</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the orientation of the sensor by swapping the x, y, and z axes if necessary. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">remap_x</td><td>Set the x-axis of the sensor to x-axis (0), y-axis (1), z-axis (2). </td></tr>
    <tr><td class="paramname">remap_y</td><td>Set the y-axis of the sensor to x-axis (0), y-axis (1), z-axis (2). </td></tr>
    <tr><td class="paramname">remap_z</td><td>Set the z-axis of the sensor to x-axis (0), y-axis (1), z-axis (2). </td></tr>
    <tr><td class="paramname">*map</td><td>Pointer to the new axis remap value. </td></tr>
    <tr><td class="paramname">*sign</td><td>Pointer to the value indicating if each of the axes should be negated to point in the correct direction.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the function. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d05/bno055_8c_a0f9dcd084ba89af0145fb0ebfe88e4a8_icgraph.png" border="0" usemap="#d9/d05/bno055_8c_a0f9dcd084ba89af0145fb0ebfe88e4a8_icgraph" alt=""/></div>
<map name="d9/d05/bno055_8c_a0f9dcd084ba89af0145fb0ebfe88e4a8_icgraph" id="d9/d05/bno055_8c_a0f9dcd084ba89af0145fb0ebfe88e4a8_icgraph">
<area shape="rect" id="node2" href="../../d0/d88/bno055_8h.html#af806f0aa9f12441ed6b8acd83017a8d1" title="Initialize variables and prepare to begin normal operation. " alt="" coords="192,81,280,108"/>
<area shape="rect" id="node3" href="../../d0/d88/bno055_8h.html#a394bafbaab8543e54d768917ac020259" title="Attempt to recover from a problem with the peripheral by resetting certain things depending on how lo..." alt="" coords="328,56,461,83"/>
<area shape="rect" id="node6" href="../../d0/d29/main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="744,81,795,108"/>
<area shape="rect" id="node4" href="../../d9/d05/bno055_8c.html#ac94fc5e78628ab5037170f7626ded1da" title="The interrupt handler receives the remaining I2C data at the end of the DMA transfer and resets the D..." alt="" coords="509,5,696,32"/>
<area shape="rect" id="node5" href="../../d0/d88/bno055_8h.html#ab8c48cf3122ef342fc4244cf47c5eb8c" title="Update loop to handle state switching, conversion from raw to cooked data, and error detection..." alt="" coords="547,56,658,83"/>
</map>
</div>

</div>
</div>
<a id="a4943d94eb47503fe062d14bde135adba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4943d94eb47503fe062d14bde135adba">&sect;&nbsp;</a></span>bno055_change_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bno055_change_state </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>new_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to change settings, enable/disable features, or trigger actions when switching between two different states of operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_state</td><td>The state being switched to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Void. </dd></dl>

</div>
</div>
<a id="a4767b45e7310c644186629c50b180e1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4767b45e7310c644186629c50b180e1a">&sect;&nbsp;</a></span>bno055_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t bno055_config </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable clocks, configure GPIO pins B10 &amp; B11 as Alternate Function (I2C2), configure DMA1_Stream2_Channel7, and enable transfer complete interrupt. </p>
<dl class="section return"><dt>Returns</dt><dd>The status of configuration. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d05/bno055_8c_a4767b45e7310c644186629c50b180e1a_cgraph.png" border="0" usemap="#d9/d05/bno055_8c_a4767b45e7310c644186629c50b180e1a_cgraph" alt=""/></div>
<map name="d9/d05/bno055_8c_a4767b45e7310c644186629c50b180e1a_cgraph" id="d9/d05/bno055_8c_a4767b45e7310c644186629c50b180e1a_cgraph">
<area shape="rect" id="node2" href="../../dd/d2d/i2c__helper_8c.html#a5a09955b069cd52141f2f541e48780f8" title="If an I2C bus freezes up or becomes unusable, then un&#45;sticking it may reset it to be usable again..." alt="" coords="159,31,289,57"/>
<area shape="rect" id="node3" href="../../dd/de3/clocks_8c.html#a55b8a8410927fd42677ff5ff28eeeb34" title="Initializes the timed_out function by setting the start time. " alt="" coords="464,5,567,32"/>
<area shape="rect" id="node4" href="../../dd/de3/clocks_8c.html#a612b56be2ae481fb4767a6e2d3cee6fd" title="Determines if a specified amount of time has passed in order to detect if a code sequence is taking t..." alt="" coords="337,81,416,108"/>
<area shape="rect" id="node6" href="../../dd/de3/clocks_8c.html#adca1b696913191bfa3de94c99ea8037b" title="Pauses code execution for a given amount of time in microseconds. " alt="" coords="339,31,414,57"/>
<area shape="rect" id="node5" href="../../dd/de3/clocks_8c.html#a80325e4278271f29c53518c551c315ba" title="Determines if a specified amount of time has passed in order to detect if a code sequence is taking t..." alt="" coords="465,68,565,95"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d05/bno055_8c_a4767b45e7310c644186629c50b180e1a_icgraph.png" border="0" usemap="#d9/d05/bno055_8c_a4767b45e7310c644186629c50b180e1a_icgraph" alt=""/></div>
<map name="d9/d05/bno055_8c_a4767b45e7310c644186629c50b180e1a_icgraph" id="d9/d05/bno055_8c_a4767b45e7310c644186629c50b180e1a_icgraph">
<area shape="rect" id="node2" href="../../d0/d88/bno055_8h.html#a394bafbaab8543e54d768917ac020259" title="Attempt to recover from a problem with the peripheral by resetting certain things depending on how lo..." alt="" coords="159,56,292,83"/>
<area shape="rect" id="node5" href="../../d0/d29/main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="575,81,625,108"/>
<area shape="rect" id="node3" href="../../d9/d05/bno055_8c.html#ac94fc5e78628ab5037170f7626ded1da" title="The interrupt handler receives the remaining I2C data at the end of the DMA transfer and resets the D..." alt="" coords="340,5,527,32"/>
<area shape="rect" id="node4" href="../../d0/d88/bno055_8h.html#ab8c48cf3122ef342fc4244cf47c5eb8c" title="Update loop to handle state switching, conversion from raw to cooked data, and error detection..." alt="" coords="378,56,489,83"/>
</map>
</div>

</div>
</div>
<a id="a633e8d33e541faf7f06d848427b66a09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a633e8d33e541faf7f06d848427b66a09">&sect;&nbsp;</a></span>bno055_cook_values()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bno055_cook_values </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute the final cooked values from the parsed data. </p>
<dl class="section return"><dt>Returns</dt><dd>The status of the function. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d05/bno055_8c_a633e8d33e541faf7f06d848427b66a09_cgraph.png" border="0" usemap="#d9/d05/bno055_8c_a633e8d33e541faf7f06d848427b66a09_cgraph" alt=""/></div>
<map name="d9/d05/bno055_8c_a633e8d33e541faf7f06d848427b66a09_cgraph" id="d9/d05/bno055_8c_a633e8d33e541faf7f06d848427b66a09_cgraph">
<area shape="rect" id="node2" href="../../d2/de2/3dmath_8c.html#ab32f399a510f7f889391345e0a98d7a3" title="Rotate a vector by a given quaternion. " alt="" coords="196,81,292,108"/>
<area shape="rect" id="node3" href="../../d2/de2/3dmath_8c.html#a6bf4e7c2ab6a14fe342d2da9e7f72c34" title="Scale a vector by a given scalar. " alt="" coords="365,5,460,32"/>
<area shape="rect" id="node4" href="../../d2/de2/3dmath_8c.html#adf182d7a0c3459e9a961d281e05f08c5" title="Compute the dot product of two vectors. " alt="" coords="347,56,478,83"/>
<area shape="rect" id="node5" href="../../d2/de2/3dmath_8c.html#a2350b19b9e8b9061f781ec4186868914" title="Compute the cross product of two vectors. " alt="" coords="340,107,485,133"/>
<area shape="rect" id="node6" href="../../d2/de2/3dmath_8c.html#ae77b124193c42baa70c123f1863a0c19" title="Compute the sum of two vectors. " alt="" coords="371,157,455,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d05/bno055_8c_a633e8d33e541faf7f06d848427b66a09_icgraph.png" border="0" usemap="#d9/d05/bno055_8c_a633e8d33e541faf7f06d848427b66a09_icgraph" alt=""/></div>
<map name="d9/d05/bno055_8c_a633e8d33e541faf7f06d848427b66a09_icgraph" id="d9/d05/bno055_8c_a633e8d33e541faf7f06d848427b66a09_icgraph">
<area shape="rect" id="node2" href="../../d0/d88/bno055_8h.html#ab8c48cf3122ef342fc4244cf47c5eb8c" title="Update loop to handle state switching, conversion from raw to cooked data, and error detection..." alt="" coords="196,5,307,32"/>
<area shape="rect" id="node3" href="../../d0/d29/main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="355,5,405,32"/>
</map>
</div>

</div>
</div>
<a id="a394bafbaab8543e54d768917ac020259"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a394bafbaab8543e54d768917ac020259">&sect;&nbsp;</a></span>bno055_error_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bno055_error_reset </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>error_level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempt to recover from a problem with the peripheral by resetting certain things depending on how long the problem persists. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error_level</td><td>The more negative the value, the more severe the problem (error_level is decremented).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Void. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d05/bno055_8c_a394bafbaab8543e54d768917ac020259_cgraph.png" border="0" usemap="#d9/d05/bno055_8c_a394bafbaab8543e54d768917ac020259_cgraph" alt=""/></div>
<map name="d9/d05/bno055_8c_a394bafbaab8543e54d768917ac020259_cgraph" id="d9/d05/bno055_8c_a394bafbaab8543e54d768917ac020259_cgraph">
<area shape="rect" id="node2" href="../../dd/de3/clocks_8c.html#abccf1850559310bf7bf693d79768eed7" title="Pauses code execution for a given amount of time in milliseconds. " alt="" coords="387,359,440,386"/>
<area shape="rect" id="node6" href="../../d9/d05/bno055_8c.html#a4767b45e7310c644186629c50b180e1a" title="Enable clocks, configure GPIO pins B10 &amp; B11 as Alternate Function (I2C2), configure DMA1_Stream2_Cha..." alt="" coords="187,309,292,335"/>
<area shape="rect" id="node9" href="../../d9/d05/bno055_8c.html#af806f0aa9f12441ed6b8acd83017a8d1" title="Initialize variables and prepare to begin normal operation. " alt="" coords="195,207,283,234"/>
<area shape="rect" id="node3" href="../../dd/de3/clocks_8c.html#adca1b696913191bfa3de94c99ea8037b" title="Pauses code execution for a given amount of time in microseconds. " alt="" coords="575,309,649,335"/>
<area shape="rect" id="node4" href="../../dd/de3/clocks_8c.html#a55b8a8410927fd42677ff5ff28eeeb34" title="Initializes the timed_out function by setting the start time. " alt="" coords="737,207,840,234"/>
<area shape="rect" id="node5" href="../../dd/de3/clocks_8c.html#a80325e4278271f29c53518c551c315ba" title="Determines if a specified amount of time has passed in order to detect if a code sequence is taking t..." alt="" coords="888,195,988,222"/>
<area shape="rect" id="node7" href="../../dd/d2d/i2c__helper_8c.html#a5a09955b069cd52141f2f541e48780f8" title="If an I2C bus freezes up or becomes unusable, then un&#45;sticking it may reset it to be usable again..." alt="" coords="348,309,479,335"/>
<area shape="rect" id="node8" href="../../dd/de3/clocks_8c.html#a612b56be2ae481fb4767a6e2d3cee6fd" title="Determines if a specified amount of time has passed in order to detect if a code sequence is taking t..." alt="" coords="749,106,828,133"/>
<area shape="rect" id="node10" href="../../dd/d2d/i2c__helper_8c.html#a9cb963aed3a6e728570d3395364288ca" title="Read 1 byte from an I2C peripheral. " alt="" coords="341,157,486,183"/>
<area shape="rect" id="node12" href="../../dd/d2d/i2c__helper_8c.html#ad8f8a7b71ae4cd3e325067db3e0d57a1" title="Write 1 byte to an I2C peripheral. " alt="" coords="340,81,487,107"/>
<area shape="rect" id="node14" href="../../d9/d05/bno055_8c.html#a0f9dcd084ba89af0145fb0ebfe88e4a8" title="Set the orientation of the sensor by swapping the x, y, and z axes if necessary. " alt="" coords="344,258,483,285"/>
<area shape="rect" id="node11" href="../../dd/d2d/i2c__helper_8c.html#a69c250651e4e94c95214b39170123b24" title="Read a given number of bytes from an I2C peripheral. " alt="" coords="536,157,688,183"/>
<area shape="rect" id="node13" href="../../dd/d2d/i2c__helper_8c.html#ae002122c650a525a64f2cd95bbaba5ca" title="Write a given number of bytes to an I2C peripheral. " alt="" coords="535,55,689,82"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d05/bno055_8c_a394bafbaab8543e54d768917ac020259_icgraph.png" border="0" usemap="#d9/d05/bno055_8c_a394bafbaab8543e54d768917ac020259_icgraph" alt=""/></div>
<map name="d9/d05/bno055_8c_a394bafbaab8543e54d768917ac020259_icgraph" id="d9/d05/bno055_8c_a394bafbaab8543e54d768917ac020259_icgraph">
<area shape="rect" id="node2" href="../../d9/d05/bno055_8c.html#ac94fc5e78628ab5037170f7626ded1da" title="The interrupt handler receives the remaining I2C data at the end of the DMA transfer and resets the D..." alt="" coords="187,5,373,32"/>
<area shape="rect" id="node3" href="../../d0/d88/bno055_8h.html#ab8c48cf3122ef342fc4244cf47c5eb8c" title="Update loop to handle state switching, conversion from raw to cooked data, and error detection..." alt="" coords="225,56,335,83"/>
<area shape="rect" id="node4" href="../../d0/d29/main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="421,56,472,83"/>
</map>
</div>

</div>
</div>
<a id="aba6bbb1c7975a758fda84e28494955b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba6bbb1c7975a758fda84e28494955b4">&sect;&nbsp;</a></span>bno055_get_calibration_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bno055_get_calibration_data </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>calibration_percent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads how well calibrated the sensors of the peripheral are (0 to 100%). </p>
<p>Each of 3 sensors is scored 0 to 3 plus an overall score of 0 to 3, the total calibration is represented as 0 to 12.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*calibration_percent</td><td>Pointer to the variable holding calibration status (in 0-100% form) to be updated.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the function. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d05/bno055_8c_aba6bbb1c7975a758fda84e28494955b4_cgraph.png" border="0" usemap="#d9/d05/bno055_8c_aba6bbb1c7975a758fda84e28494955b4_cgraph" alt=""/></div>
<map name="d9/d05/bno055_8c_aba6bbb1c7975a758fda84e28494955b4_cgraph" id="d9/d05/bno055_8c_aba6bbb1c7975a758fda84e28494955b4_cgraph">
<area shape="rect" id="node2" href="../../dd/d2d/i2c__helper_8c.html#a9cb963aed3a6e728570d3395364288ca" title="Read 1 byte from an I2C peripheral. " alt="" coords="240,31,385,57"/>
<area shape="rect" id="node3" href="../../dd/d2d/i2c__helper_8c.html#a69c250651e4e94c95214b39170123b24" title="Read a given number of bytes from an I2C peripheral. " alt="" coords="433,31,585,57"/>
<area shape="rect" id="node4" href="../../dd/de3/clocks_8c.html#a55b8a8410927fd42677ff5ff28eeeb34" title="Initializes the timed_out function by setting the start time. " alt="" coords="633,5,736,32"/>
<area shape="rect" id="node5" href="../../dd/de3/clocks_8c.html#a612b56be2ae481fb4767a6e2d3cee6fd" title="Determines if a specified amount of time has passed in order to detect if a code sequence is taking t..." alt="" coords="645,56,724,83"/>
<area shape="rect" id="node6" href="../../dd/de3/clocks_8c.html#a80325e4278271f29c53518c551c315ba" title="Determines if a specified amount of time has passed in order to detect if a code sequence is taking t..." alt="" coords="784,56,884,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d05/bno055_8c_aba6bbb1c7975a758fda84e28494955b4_icgraph.png" border="0" usemap="#d9/d05/bno055_8c_aba6bbb1c7975a758fda84e28494955b4_icgraph" alt=""/></div>
<map name="d9/d05/bno055_8c_aba6bbb1c7975a758fda84e28494955b4_icgraph" id="d9/d05/bno055_8c_aba6bbb1c7975a758fda84e28494955b4_icgraph">
<area shape="rect" id="node2" href="../../d0/d88/bno055_8h.html#ab8c48cf3122ef342fc4244cf47c5eb8c" title="Update loop to handle state switching, conversion from raw to cooked data, and error detection..." alt="" coords="240,5,351,32"/>
<area shape="rect" id="node3" href="../../d0/d29/main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="399,5,449,32"/>
</map>
</div>

</div>
</div>
<a id="a7d5cbfe40109146da9dd9cacc336ca37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d5cbfe40109146da9dd9cacc336ca37">&sect;&nbsp;</a></span>bno055_get_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bno055_get_status </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the system status register. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*status</td><td>Pointer to the variable that will hold the current system status of the peripheral.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the function. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d05/bno055_8c_a7d5cbfe40109146da9dd9cacc336ca37_cgraph.png" border="0" usemap="#d9/d05/bno055_8c_a7d5cbfe40109146da9dd9cacc336ca37_cgraph" alt=""/></div>
<map name="d9/d05/bno055_8c_a7d5cbfe40109146da9dd9cacc336ca37_cgraph" id="d9/d05/bno055_8c_a7d5cbfe40109146da9dd9cacc336ca37_cgraph">
<area shape="rect" id="node2" href="../../dd/d2d/i2c__helper_8c.html#a9cb963aed3a6e728570d3395364288ca" title="Read 1 byte from an I2C peripheral. " alt="" coords="185,31,331,57"/>
<area shape="rect" id="node3" href="../../dd/d2d/i2c__helper_8c.html#a69c250651e4e94c95214b39170123b24" title="Read a given number of bytes from an I2C peripheral. " alt="" coords="379,31,531,57"/>
<area shape="rect" id="node4" href="../../dd/de3/clocks_8c.html#a55b8a8410927fd42677ff5ff28eeeb34" title="Initializes the timed_out function by setting the start time. " alt="" coords="579,5,681,32"/>
<area shape="rect" id="node5" href="../../dd/de3/clocks_8c.html#a612b56be2ae481fb4767a6e2d3cee6fd" title="Determines if a specified amount of time has passed in order to detect if a code sequence is taking t..." alt="" coords="591,56,669,83"/>
<area shape="rect" id="node6" href="../../dd/de3/clocks_8c.html#a80325e4278271f29c53518c551c315ba" title="Determines if a specified amount of time has passed in order to detect if a code sequence is taking t..." alt="" coords="729,56,829,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d05/bno055_8c_a7d5cbfe40109146da9dd9cacc336ca37_icgraph.png" border="0" usemap="#d9/d05/bno055_8c_a7d5cbfe40109146da9dd9cacc336ca37_icgraph" alt=""/></div>
<map name="d9/d05/bno055_8c_a7d5cbfe40109146da9dd9cacc336ca37_icgraph" id="d9/d05/bno055_8c_a7d5cbfe40109146da9dd9cacc336ca37_icgraph">
<area shape="rect" id="node2" href="../../d0/d88/bno055_8h.html#ab8c48cf3122ef342fc4244cf47c5eb8c" title="Update loop to handle state switching, conversion from raw to cooked data, and error detection..." alt="" coords="185,5,296,32"/>
<area shape="rect" id="node3" href="../../d0/d29/main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="344,5,395,32"/>
</map>
</div>

</div>
</div>
<a id="af806f0aa9f12441ed6b8acd83017a8d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af806f0aa9f12441ed6b8acd83017a8d1">&sect;&nbsp;</a></span>bno055_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t bno055_init </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>skip_phase1</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize variables and prepare to begin normal operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">skip_phase1</td><td>If true, a portion of the initialization code is skipped (this option is used in special failsafe conditions when an in-flight restart is necessary).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of initialization. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d05/bno055_8c_af806f0aa9f12441ed6b8acd83017a8d1_cgraph.png" border="0" usemap="#d9/d05/bno055_8c_af806f0aa9f12441ed6b8acd83017a8d1_cgraph" alt=""/></div>
<map name="d9/d05/bno055_8c_af806f0aa9f12441ed6b8acd83017a8d1_cgraph" id="d9/d05/bno055_8c_af806f0aa9f12441ed6b8acd83017a8d1_cgraph">
<area shape="rect" id="node2" href="../../dd/de3/clocks_8c.html#a55b8a8410927fd42677ff5ff28eeeb34" title="Initializes the timed_out function by setting the start time. " alt="" coords="539,95,641,121"/>
<area shape="rect" id="node3" href="../../dd/d2d/i2c__helper_8c.html#a9cb963aed3a6e728570d3395364288ca" title="Read 1 byte from an I2C peripheral. " alt="" coords="142,157,287,184"/>
<area shape="rect" id="node5" href="../../dd/de3/clocks_8c.html#a612b56be2ae481fb4767a6e2d3cee6fd" title="Determines if a specified amount of time has passed in order to detect if a code sequence is taking t..." alt="" coords="551,152,629,179"/>
<area shape="rect" id="node7" href="../../dd/d2d/i2c__helper_8c.html#ad8f8a7b71ae4cd3e325067db3e0d57a1" title="Write 1 byte to an I2C peripheral. " alt="" coords="141,107,288,133"/>
<area shape="rect" id="node9" href="../../dd/de3/clocks_8c.html#abccf1850559310bf7bf693d79768eed7" title="Pauses code execution for a given amount of time in milliseconds. " alt="" coords="188,5,241,32"/>
<area shape="rect" id="node11" href="../../d9/d05/bno055_8c.html#a0f9dcd084ba89af0145fb0ebfe88e4a8" title="Set the orientation of the sensor by swapping the x, y, and z axes if necessary. " alt="" coords="145,259,284,285"/>
<area shape="rect" id="node4" href="../../dd/d2d/i2c__helper_8c.html#a69c250651e4e94c95214b39170123b24" title="Read a given number of bytes from an I2C peripheral. " alt="" coords="337,157,489,184"/>
<area shape="rect" id="node6" href="../../dd/de3/clocks_8c.html#a80325e4278271f29c53518c551c315ba" title="Determines if a specified amount of time has passed in order to detect if a code sequence is taking t..." alt="" coords="689,85,789,112"/>
<area shape="rect" id="node8" href="../../dd/d2d/i2c__helper_8c.html#ae002122c650a525a64f2cd95bbaba5ca" title="Write a given number of bytes to an I2C peripheral. " alt="" coords="336,107,491,133"/>
<area shape="rect" id="node10" href="../../dd/de3/clocks_8c.html#adca1b696913191bfa3de94c99ea8037b" title="Pauses code execution for a given amount of time in microseconds. " alt="" coords="376,5,451,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d05/bno055_8c_af806f0aa9f12441ed6b8acd83017a8d1_icgraph.png" border="0" usemap="#d9/d05/bno055_8c_af806f0aa9f12441ed6b8acd83017a8d1_icgraph" alt=""/></div>
<map name="d9/d05/bno055_8c_af806f0aa9f12441ed6b8acd83017a8d1_icgraph" id="d9/d05/bno055_8c_af806f0aa9f12441ed6b8acd83017a8d1_icgraph">
<area shape="rect" id="node2" href="../../d0/d88/bno055_8h.html#a394bafbaab8543e54d768917ac020259" title="Attempt to recover from a problem with the peripheral by resetting certain things depending on how lo..." alt="" coords="141,56,275,83"/>
<area shape="rect" id="node5" href="../../d0/d29/main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="557,81,608,108"/>
<area shape="rect" id="node3" href="../../d9/d05/bno055_8c.html#ac94fc5e78628ab5037170f7626ded1da" title="The interrupt handler receives the remaining I2C data at the end of the DMA transfer and resets the D..." alt="" coords="323,5,509,32"/>
<area shape="rect" id="node4" href="../../d0/d88/bno055_8h.html#ab8c48cf3122ef342fc4244cf47c5eb8c" title="Update loop to handle state switching, conversion from raw to cooked data, and error detection..." alt="" coords="361,56,471,83"/>
</map>
</div>

</div>
</div>
<a id="a0d90fa7310853948bcf5d0e1e51b513b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d90fa7310853948bcf5d0e1e51b513b">&sect;&nbsp;</a></span>bno055_parse_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bno055_parse_buffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Split up the raw data read by the peripheral into corresponding raw value variables. </p>
<dl class="section return"><dt>Returns</dt><dd>The status of the function. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d05/bno055_8c_a0d90fa7310853948bcf5d0e1e51b513b_icgraph.png" border="0" usemap="#d9/d05/bno055_8c_a0d90fa7310853948bcf5d0e1e51b513b_icgraph" alt=""/></div>
<map name="d9/d05/bno055_8c_a0d90fa7310853948bcf5d0e1e51b513b_icgraph" id="d9/d05/bno055_8c_a0d90fa7310853948bcf5d0e1e51b513b_icgraph">
<area shape="rect" id="node2" href="../../d0/d88/bno055_8h.html#ab8c48cf3122ef342fc4244cf47c5eb8c" title="Update loop to handle state switching, conversion from raw to cooked data, and error detection..." alt="" coords="195,5,305,32"/>
<area shape="rect" id="node3" href="../../d0/d29/main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="353,5,404,32"/>
</map>
</div>

</div>
</div>
<a id="a78ce5382d1466bfbb67ed5fb8f33481e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78ce5382d1466bfbb67ed5fb8f33481e">&sect;&nbsp;</a></span>bno055_start_dma()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bno055_start_dma </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Begin the I2C read sequence and setup DMA to take over the rest. </p>
<dl class="section return"><dt>Returns</dt><dd>The status of the function. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d05/bno055_8c_a78ce5382d1466bfbb67ed5fb8f33481e_cgraph.png" border="0" usemap="#d9/d05/bno055_8c_a78ce5382d1466bfbb67ed5fb8f33481e_cgraph" alt=""/></div>
<map name="d9/d05/bno055_8c_a78ce5382d1466bfbb67ed5fb8f33481e_cgraph" id="d9/d05/bno055_8c_a78ce5382d1466bfbb67ed5fb8f33481e_cgraph">
<area shape="rect" id="node2" href="../../dd/de3/clocks_8c.html#a55b8a8410927fd42677ff5ff28eeeb34" title="Initializes the timed_out function by setting the start time. " alt="" coords="183,5,285,32"/>
<area shape="rect" id="node3" href="../../dd/de3/clocks_8c.html#a612b56be2ae481fb4767a6e2d3cee6fd" title="Determines if a specified amount of time has passed in order to detect if a code sequence is taking t..." alt="" coords="195,56,273,83"/>
<area shape="rect" id="node4" href="../../dd/de3/clocks_8c.html#a80325e4278271f29c53518c551c315ba" title="Determines if a specified amount of time has passed in order to detect if a code sequence is taking t..." alt="" coords="333,56,433,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d05/bno055_8c_a78ce5382d1466bfbb67ed5fb8f33481e_icgraph.png" border="0" usemap="#d9/d05/bno055_8c_a78ce5382d1466bfbb67ed5fb8f33481e_icgraph" alt=""/></div>
<map name="d9/d05/bno055_8c_a78ce5382d1466bfbb67ed5fb8f33481e_icgraph" id="d9/d05/bno055_8c_a78ce5382d1466bfbb67ed5fb8f33481e_icgraph">
<area shape="rect" id="node2" href="../../d0/d88/bno055_8h.html#ab8c48cf3122ef342fc4244cf47c5eb8c" title="Update loop to handle state switching, conversion from raw to cooked data, and error detection..." alt="" coords="183,5,293,32"/>
<area shape="rect" id="node3" href="../../d0/d29/main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="341,5,392,32"/>
</map>
</div>

</div>
</div>
<a id="ab8c48cf3122ef342fc4244cf47c5eb8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8c48cf3122ef342fc4244cf47c5eb8c">&sect;&nbsp;</a></span>bno055_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bno055_update </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update loop to handle state switching, conversion from raw to cooked data, and error detection. </p>
<dl class="section return"><dt>Returns</dt><dd>The status of current update iteration. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d05/bno055_8c_ab8c48cf3122ef342fc4244cf47c5eb8c_cgraph.png" border="0" usemap="#d9/d05/bno055_8c_ab8c48cf3122ef342fc4244cf47c5eb8c_cgraph" alt=""/></div>
<map name="d9/d05/bno055_8c_ab8c48cf3122ef342fc4244cf47c5eb8c_cgraph" id="d9/d05/bno055_8c_ab8c48cf3122ef342fc4244cf47c5eb8c_cgraph">
<area shape="rect" id="node2" href="../../d9/d05/bno055_8c.html#a0d90fa7310853948bcf5d0e1e51b513b" title="Split up the raw data read by the peripheral into corresponding raw value variables. " alt="" coords="183,341,325,368"/>
<area shape="rect" id="node3" href="../../d9/d05/bno055_8c.html#a633e8d33e541faf7f06d848427b66a09" title="Compute the final cooked values from the parsed data. " alt="" coords="183,392,325,419"/>
<area shape="rect" id="node9" href="../../dd/de3/clocks_8c.html#a6bfa0b61c700896f296ad4490104b887" title="Determine if a specified amount of time has passed, which is useful for timing an event to execute at..." alt="" coords="164,443,344,469"/>
<area shape="rect" id="node13" href="../../d9/d05/bno055_8c.html#a7d5cbfe40109146da9dd9cacc336ca37" title="Read the system status register. " alt="" coords="419,544,551,571"/>
<area shape="rect" id="node19" href="../../d9/d05/bno055_8c.html#aba6bbb1c7975a758fda84e28494955b4" title="Reads how well calibrated the sensors of the peripheral are (0 to 100%). " alt="" coords="392,609,579,636"/>
<area shape="rect" id="node20" href="../../d0/dc9/state_8c.html#af2d4dc0f36fb57df43a3c998186b6cf9" title="Set a peripheral as calibrated. " alt="" coords="185,715,323,741"/>
<area shape="rect" id="node21" href="../../d9/d05/bno055_8c.html#a78ce5382d1466bfbb67ed5fb8f33481e" title="Begin the I2C read sequence and setup DMA to take over the rest. " alt="" coords="834,664,963,691"/>
<area shape="rect" id="node22" href="../../d9/d05/bno055_8c.html#a394bafbaab8543e54d768917ac020259" title="Attempt to recover from a problem with the peripheral by resetting certain things depending on how lo..." alt="" coords="187,493,321,520"/>
<area shape="rect" id="node4" href="../../d2/de2/3dmath_8c.html#ab32f399a510f7f889391345e0a98d7a3" title="Rotate a vector by a given quaternion. " alt="" coords="437,107,533,133"/>
<area shape="rect" id="node5" href="../../d2/de2/3dmath_8c.html#a6bf4e7c2ab6a14fe342d2da9e7f72c34" title="Scale a vector by a given scalar. " alt="" coords="653,5,747,32"/>
<area shape="rect" id="node6" href="../../d2/de2/3dmath_8c.html#adf182d7a0c3459e9a961d281e05f08c5" title="Compute the dot product of two vectors. " alt="" coords="635,56,765,83"/>
<area shape="rect" id="node7" href="../../d2/de2/3dmath_8c.html#a2350b19b9e8b9061f781ec4186868914" title="Compute the cross product of two vectors. " alt="" coords="627,107,773,133"/>
<area shape="rect" id="node8" href="../../d2/de2/3dmath_8c.html#ae77b124193c42baa70c123f1863a0c19" title="Compute the sum of two vectors. " alt="" coords="658,157,742,184"/>
<area shape="rect" id="node10" href="../../df/d94/other__stuff_8c.html#a7b3ff1805d7e50020363b0fbb296430b" title="Make sure a value stays within a valid range between min and max. " alt="" coords="457,259,514,285"/>
<area shape="rect" id="node11" href="../../df/d94/other__stuff_8c.html#a224d6ae2826297b60e8898a8c4edbdcd" title="Determine the smaller of two values. " alt="" coords="679,208,721,235"/>
<area shape="rect" id="node12" href="../../df/d94/other__stuff_8c.html#a64905bcb2be886c8a6e078e424178972" title="Determine the larger of two values. " alt="" coords="677,259,723,285"/>
<area shape="rect" id="node14" href="../../dd/d2d/i2c__helper_8c.html#a9cb963aed3a6e728570d3395364288ca" title="Read 1 byte from an I2C peripheral. " alt="" coords="627,613,773,640"/>
<area shape="rect" id="node15" href="../../dd/d2d/i2c__helper_8c.html#a69c250651e4e94c95214b39170123b24" title="Read a given number of bytes from an I2C peripheral. " alt="" coords="823,613,975,640"/>
<area shape="rect" id="node16" href="../../dd/de3/clocks_8c.html#a55b8a8410927fd42677ff5ff28eeeb34" title="Initializes the timed_out function by setting the start time. " alt="" coords="1024,436,1127,463"/>
<area shape="rect" id="node17" href="../../dd/de3/clocks_8c.html#a612b56be2ae481fb4767a6e2d3cee6fd" title="Determines if a specified amount of time has passed in order to detect if a code sequence is taking t..." alt="" coords="1036,537,1115,564"/>
<area shape="rect" id="node18" href="../../dd/de3/clocks_8c.html#a80325e4278271f29c53518c551c315ba" title="Determines if a specified amount of time has passed in order to detect if a code sequence is taking t..." alt="" coords="1175,436,1275,463"/>
<area shape="rect" id="node23" href="../../dd/de3/clocks_8c.html#abccf1850559310bf7bf693d79768eed7" title="Pauses code execution for a given amount of time in milliseconds. " alt="" coords="673,309,727,336"/>
<area shape="rect" id="node25" href="../../d9/d05/bno055_8c.html#a4767b45e7310c644186629c50b180e1a" title="Enable clocks, configure GPIO pins B10 &amp; B11 as Alternate Function (I2C2), configure DMA1_Stream2_Cha..." alt="" coords="433,392,538,419"/>
<area shape="rect" id="node27" href="../../d9/d05/bno055_8c.html#af806f0aa9f12441ed6b8acd83017a8d1" title="Initialize variables and prepare to begin normal operation. " alt="" coords="441,493,529,520"/>
<area shape="rect" id="node24" href="../../dd/de3/clocks_8c.html#adca1b696913191bfa3de94c99ea8037b" title="Pauses code execution for a given amount of time in microseconds. " alt="" coords="861,309,936,336"/>
<area shape="rect" id="node26" href="../../dd/d2d/i2c__helper_8c.html#a5a09955b069cd52141f2f541e48780f8" title="If an I2C bus freezes up or becomes unusable, then un&#45;sticking it may reset it to be usable again..." alt="" coords="635,360,765,387"/>
<area shape="rect" id="node28" href="../../dd/d2d/i2c__helper_8c.html#ad8f8a7b71ae4cd3e325067db3e0d57a1" title="Write 1 byte to an I2C peripheral. " alt="" coords="627,461,773,488"/>
<area shape="rect" id="node30" href="../../d9/d05/bno055_8c.html#a0f9dcd084ba89af0145fb0ebfe88e4a8" title="Set the orientation of the sensor by swapping the x, y, and z axes if necessary. " alt="" coords="631,512,769,539"/>
<area shape="rect" id="node29" href="../../dd/d2d/i2c__helper_8c.html#ae002122c650a525a64f2cd95bbaba5ca" title="Write a given number of bytes to an I2C peripheral. " alt="" coords="821,512,976,539"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d05/bno055_8c_ab8c48cf3122ef342fc4244cf47c5eb8c_icgraph.png" border="0" usemap="#d9/d05/bno055_8c_ab8c48cf3122ef342fc4244cf47c5eb8c_icgraph" alt=""/></div>
<map name="d9/d05/bno055_8c_ab8c48cf3122ef342fc4244cf47c5eb8c_icgraph" id="d9/d05/bno055_8c_ab8c48cf3122ef342fc4244cf47c5eb8c_icgraph">
<area shape="rect" id="node2" href="../../d0/d29/main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="164,5,215,32"/>
</map>
</div>

</div>
</div>
<a id="ac94fc5e78628ab5037170f7626ded1da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac94fc5e78628ab5037170f7626ded1da">&sect;&nbsp;</a></span>DMA1_Stream2_IRQHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DMA1_Stream2_IRQHandler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The interrupt handler receives the remaining I2C data at the end of the DMA transfer and resets the DMA. </p>
<dl class="section return"><dt>Returns</dt><dd>Void. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d05/bno055_8c_ac94fc5e78628ab5037170f7626ded1da_cgraph.png" border="0" usemap="#d9/d05/bno055_8c_ac94fc5e78628ab5037170f7626ded1da_cgraph" alt=""/></div>
<map name="d9/d05/bno055_8c_ac94fc5e78628ab5037170f7626ded1da_cgraph" id="d9/d05/bno055_8c_ac94fc5e78628ab5037170f7626ded1da_cgraph">
<area shape="rect" id="node2" href="../../dd/de3/clocks_8c.html#a55b8a8410927fd42677ff5ff28eeeb34" title="Initializes the timed_out function by setting the start time. " alt="" coords="972,141,1075,167"/>
<area shape="rect" id="node3" href="../../dd/de3/clocks_8c.html#a612b56be2ae481fb4767a6e2d3cee6fd" title="Determines if a specified amount of time has passed in order to detect if a code sequence is taking t..." alt="" coords="984,279,1063,306"/>
<area shape="rect" id="node5" href="../../d9/d05/bno055_8c.html#a394bafbaab8543e54d768917ac020259" title="Attempt to recover from a problem with the peripheral by resetting certain things depending on how lo..." alt="" coords="240,102,373,129"/>
<area shape="rect" id="node4" href="../../dd/de3/clocks_8c.html#a80325e4278271f29c53518c551c315ba" title="Determines if a specified amount of time has passed in order to detect if a code sequence is taking t..." alt="" coords="1123,159,1223,186"/>
<area shape="rect" id="node6" href="../../dd/de3/clocks_8c.html#abccf1850559310bf7bf693d79768eed7" title="Pauses code execution for a given amount of time in milliseconds. " alt="" coords="621,51,675,78"/>
<area shape="rect" id="node8" href="../../d9/d05/bno055_8c.html#a4767b45e7310c644186629c50b180e1a" title="Enable clocks, configure GPIO pins B10 &amp; B11 as Alternate Function (I2C2), configure DMA1_Stream2_Cha..." alt="" coords="421,102,527,129"/>
<area shape="rect" id="node10" href="../../d9/d05/bno055_8c.html#af806f0aa9f12441ed6b8acd83017a8d1" title="Initialize variables and prepare to begin normal operation. " alt="" coords="430,203,518,230"/>
<area shape="rect" id="node7" href="../../dd/de3/clocks_8c.html#adca1b696913191bfa3de94c99ea8037b" title="Pauses code execution for a given amount of time in microseconds. " alt="" coords="809,51,884,78"/>
<area shape="rect" id="node9" href="../../dd/d2d/i2c__helper_8c.html#a5a09955b069cd52141f2f541e48780f8" title="If an I2C bus freezes up or becomes unusable, then un&#45;sticking it may reset it to be usable again..." alt="" coords="583,102,713,129"/>
<area shape="rect" id="node11" href="../../dd/d2d/i2c__helper_8c.html#a9cb963aed3a6e728570d3395364288ca" title="Read 1 byte from an I2C peripheral. " alt="" coords="575,305,721,331"/>
<area shape="rect" id="node13" href="../../dd/d2d/i2c__helper_8c.html#ad8f8a7b71ae4cd3e325067db3e0d57a1" title="Write 1 byte to an I2C peripheral. " alt="" coords="575,203,721,230"/>
<area shape="rect" id="node15" href="../../d9/d05/bno055_8c.html#a0f9dcd084ba89af0145fb0ebfe88e4a8" title="Set the orientation of the sensor by swapping the x, y, and z axes if necessary. " alt="" coords="579,254,717,281"/>
<area shape="rect" id="node12" href="../../dd/d2d/i2c__helper_8c.html#a69c250651e4e94c95214b39170123b24" title="Read a given number of bytes from an I2C peripheral. " alt="" coords="771,305,923,331"/>
<area shape="rect" id="node14" href="../../dd/d2d/i2c__helper_8c.html#ae002122c650a525a64f2cd95bbaba5ca" title="Write a given number of bytes to an I2C peripheral. " alt="" coords="769,254,924,281"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d9/d05/bno055_8c.html">bno055.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.12 </li>
  </ul>
</div>
</body>
</html>
